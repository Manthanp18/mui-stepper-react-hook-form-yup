{"ast":null,"code":"import _regeneratorRuntime from \"/Users/upforcetech/Desktop/9fkxo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/upforcetech/Desktop/9fkxo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _defineProperty from \"/Users/upforcetech/Desktop/9fkxo/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { appendErrors, transformToNestObject } from 'react-hook-form';\nimport convertArrayToPathName from './utils/convertArrayToPathName';\n\nvar parseErrorSchema = function parseErrorSchema(error, validateAllFieldCriteria) {\n  return Array.isArray(error.details) ? error.details.reduce(function (previous, _ref) {\n    var path = _ref.path,\n        _ref$message = _ref.message,\n        message = _ref$message === void 0 ? '' : _ref$message,\n        type = _ref.type;\n    var currentPath = convertArrayToPathName(path);\n    return Object.assign(Object.assign({}, previous), path ? previous[currentPath] && validateAllFieldCriteria ? _defineProperty({}, currentPath, appendErrors(currentPath, validateAllFieldCriteria, previous, type, message)) : _defineProperty({}, currentPath, previous[currentPath] || Object.assign({\n      message: message,\n      type: type\n    }, validateAllFieldCriteria ? {\n      types: _defineProperty({}, type, message || true)\n    } : {})) : {});\n  }, {}) : [];\n};\n\nexport var joiResolver = function joiResolver(schema) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    abortEarly: false\n  };\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(values, _) {\n      var validateAllFieldCriteria,\n          _args = arguments;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              validateAllFieldCriteria = _args.length > 2 && _args[2] !== undefined ? _args[2] : false;\n              _context.prev = 1;\n              _context.next = 4;\n              return schema.validateAsync(values, Object.assign({}, options));\n\n            case 4:\n              _context.t0 = _context.sent;\n              _context.t1 = {};\n              return _context.abrupt(\"return\", {\n                values: _context.t0,\n                errors: _context.t1\n              });\n\n            case 9:\n              _context.prev = 9;\n              _context.t2 = _context[\"catch\"](1);\n              return _context.abrupt(\"return\", {\n                values: {},\n                errors: transformToNestObject(parseErrorSchema(_context.t2, validateAllFieldCriteria))\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"mappings":";;;AAAA,SACEA,YADF,EAEEC,qBAFF,QAKO,iBALP;AAOA,OAAOC,sBAAP,MAAmC,gCAAnC;;AAEA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CACvBC,KADuB,EAEvBC,wBAFuB;EAAA,OAIvBC,KAAK,CAACC,OAAN,CAAcH,KAAK,CAACI,OAApB,IACIJ,KAAK,CAACI,OAAN,CAAcC,MAAd,CACE,UAACC,QAAD,QAAgE;IAAA,IAA9BC,IAA8B,QAA9BA,IAA8B;IAAA,wBAAxBC,OAAwB;IAAA,IAAxBA,OAAwB,6BAAd,EAAc;IAAA,IAAVC,IAAU,QAAVA,IAAU;IAC9D,IAAMC,WAAW,GAAGZ,sBAAsB,CAACS,IAAD,CAA1C;IAEA,uCACKD,QADL,GAEMC,IAAI,GACJD,QAAQ,CAACI,WAAD,CAAR,IAAyBT,wBAAzB,uBAEKS,WAFL,EAEmBd,YAAY,CACzBc,WADyB,EAEzBT,wBAFyB,EAGzBK,QAHyB,EAIzBG,IAJyB,EAKzBD,OALyB,CAF/B,wBAWKE,WAXL,EAWmBJ,QAAQ,CAACI,WAAD,CAAR,IAAqBC;MAClCH,OAAO,EAAPA,OADkC;MAElCC,IAAI,EAAJA;IAFkC,GAG9BR,wBAAwB,GACxB;MACEW,KAAK,sBAAKH,IAAL,EAAYD,OAAO,IAAI,IAAvB;IADP,CADwB,GAIxB,EAP8B,CAXxC,CADI,GAsBJ,EAxBN;EA0BD,CA9BH,EA+BE,EA/BF,CADJ,GAkCI,EAtCmB;AAAA,CAAzB;;AAwCA,OAAO,IAAMK,WAAW,GAAG,SAAdA,WAAc,CACzBC,MADyB;EAAA,IAEzBC,OAFyB,uEAEa;IACpCC,UAAU,EAAE;EADwB,CAFb;EAAA;IAAA,uEAKE,iBAC3BC,MAD2B,EAE3BC,CAF2B;MAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAG3BjB,wBAH2B,2DAGA,KAHA;cAAA;cAAA;cAAA,OAOTa,MAAM,CAACK,aAAP,CAAqBF,MAArB,EAA2BN,kBACpCI,OADoC,CAA3B,CAPS;;YAAA;cAAA;cAAA,cAUf,EAVe;cAAA;gBAOvBE,MAPuB;gBAUvBG,MAVuB;cAAA;;YAAA;cAAA;cAAA;cAAA,iCAalB;gBACLH,MAAM,EAAE,EADH;gBAELG,MAAM,EAAEvB,qBAAqB,CAC3BE,gBAAgB,cAAIE,wBAAJ,CADW;cAFxB,CAbkB;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CALF;;IAAA;MAAA;IAAA;EAAA;AAAA,CAApB","names":["appendErrors","transformToNestObject","convertArrayToPathName","parseErrorSchema","error","validateAllFieldCriteria","Array","isArray","details","reduce","previous","path","message","type","currentPath","Object","types","joiResolver","schema","options","abortEarly","values","_","validateAsync","errors"],"sources":["../src/joi.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}